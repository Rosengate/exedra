<?php
$exedra = require_once __DIR__.'/../exedra';

/**
 * This exedra::build method basically returns application instance. (\Exedra\Application\Application)
 * The same one passed into the \Closure. 
 * 1. You can code outside of the \Closure if you want. 
 * Just make sure this script returns the same application instance
 * Because by the way it created (through wizard)
 * - it has been wired for a public index.php
 * - and for app wizard
 * 2. But it's up to you if you want to re-wire things, as long as you understand the flow.
 */
return $exedra->build({app_build}, function($app)
{
	// set config generated by a wizard
	$app->config->set($app->loader->load('wizard.config.php'));

	// sample welcoming texts.
	/// you can delete this later.
	$app->map->addRoutes(array(
		'hello' => array(
			'uri' => '/',
			'execute' => function($exe)
			{
				return $exe->view->create('hello', array('apppath' => __DIR__))->render();
			})
		));
});